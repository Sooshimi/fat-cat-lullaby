[gd_scene load_steps=17 format=3 uid="uid://cwkocmqpyoa2o"]

[ext_resource type="PackedScene" uid="uid://pf2yp1p4e50e" path="res://scenes/bedroom.tscn" id="1_6ynhn"]
[ext_resource type="Script" path="res://scenes/level_1.gd" id="1_ddu6q"]
[ext_resource type="PackedScene" uid="uid://kd8lrl2o8mac" path="res://scenes/fat_cat.tscn" id="1_tss6p"]
[ext_resource type="PackedScene" uid="uid://krcrgk7ddf8" path="res://scenes/piano.tscn" id="2_qla7i"]
[ext_resource type="PackedScene" uid="uid://du8n2u6bk366n" path="res://scenes/baby.tscn" id="3_n3qp0"]
[ext_resource type="Texture2D" uid="uid://vf3o78sc1ww1" path="res://assets/world/2d_lights_and_shadows_neutral_point_light.png" id="4_qx8n5"]
[ext_resource type="Shader" path="res://shaders/crt.gdshader" id="6_k6mst"]
[ext_resource type="PackedScene" uid="uid://b3adqkmggnbq1" path="res://scenes/laser.tscn" id="6_usot1"]
[ext_resource type="PackedScene" uid="uid://co6vwrmogijxe" path="res://scenes/items/toy_police_car.tscn" id="8_cu1mq"]
[ext_resource type="PackedScene" uid="uid://4sku6vb8audx" path="res://scenes/ui/pause_menu.tscn" id="9_ejdt2"]
[ext_resource type="PackedScene" uid="uid://dufd5xc6bws0r" path="res://scenes/ui/game_over.tscn" id="11_64s1c"]
[ext_resource type="PackedScene" uid="uid://brp00iynn3pio" path="res://scenes/ui/win_menu.tscn" id="12_c4k5a"]

[sub_resource type="ShaderMaterial" id="ShaderMaterial_wxkst"]
shader = ExtResource("6_k6mst")
shader_parameter/screen_width = 640.0
shader_parameter/screen_height = 640.0
shader_parameter/BarrelPower = 1.02
shader_parameter/color_bleeding = 1.2
shader_parameter/bleeding_range_x = 0.9
shader_parameter/bleeding_range_y = 0.9
shader_parameter/lines_distance = 5.0
shader_parameter/scan_size = 2.0
shader_parameter/scanline_alpha = 0.9
shader_parameter/lines_velocity = 1.0

[sub_resource type="Gradient" id="Gradient_g0v1n"]
offsets = PackedFloat32Array(0, 0.770968, 1)
colors = PackedColorArray(0, 0, 0, 1, 0.848387, 0.848387, 0.848387, 1, 1, 1, 1, 1)

[sub_resource type="FastNoiseLite" id="FastNoiseLite_g8skw"]
frequency = 1.0

[sub_resource type="NoiseTexture2D" id="NoiseTexture2D_qk3ee"]
color_ramp = SubResource("Gradient_g0v1n")
noise = SubResource("FastNoiseLite_g8skw")

[node name="Level1" type="Node" node_paths=PackedStringArray("pause_menu", "game_over_menu", "win_menu")]
script = ExtResource("1_ddu6q")
pause_menu = NodePath("CanvasLayer/PauseMenu")
game_over_menu = NodePath("CanvasLayer/GameOver")
win_menu = NodePath("CanvasLayer/WinMenu")

[node name="CanvasModulate" type="CanvasModulate" parent="."]
color = Color(0.0588235, 0.0588235, 0.0588235, 1)

[node name="Bedroom" parent="." instance=ExtResource("1_6ynhn")]
position = Vector2(-165, -137)

[node name="Piano" parent="." instance=ExtResource("2_qla7i")]
position = Vector2(162, 140)

[node name="ToyPoliceCar" parent="." instance=ExtResource("8_cu1mq")]
position = Vector2(144, 329)
key_1 = "D"
key_2 = "C"
key_3 = "E"
baby_emotion_trigger = "angry"

[node name="ToyPoliceCar2" parent="." instance=ExtResource("8_cu1mq")]
position = Vector2(82, 245)
key_1 = "E"
key_2 = "D"
key_3 = "C"
baby_emotion_trigger = "sleepy"

[node name="FatCat" parent="." instance=ExtResource("1_tss6p")]
position = Vector2(182, 259)

[node name="PlayerLight" type="PointLight2D" parent="FatCat"]
energy = 0.8
shadow_enabled = true
shadow_filter = 1
shadow_filter_smooth = 2.0
texture = ExtResource("4_qx8n5")
texture_scale = 0.9

[node name="ShadowLight" type="PointLight2D" parent="FatCat"]
energy = 0.8
range_item_cull_mask = 2
shadow_filter = 1
shadow_filter_smooth = 2.0
texture = ExtResource("4_qx8n5")
texture_scale = 0.9

[node name="Camera2D" type="Camera2D" parent="FatCat"]
position_smoothing_enabled = true
drag_horizontal_enabled = true
drag_vertical_enabled = true
drag_left_margin = 0.3
drag_top_margin = 0.3
drag_right_margin = 0.3
drag_bottom_margin = 0.3

[node name="CanvasLayer" type="CanvasLayer" parent="FatCat/Camera2D"]

[node name="CRTScreen" type="ColorRect" parent="FatCat/Camera2D/CanvasLayer"]
material = SubResource("ShaderMaterial_wxkst")
anchors_preset = 8
anchor_left = 0.5
anchor_top = 0.5
anchor_right = 0.5
anchor_bottom = 0.5
offset_left = -180.0
offset_top = -180.0
offset_right = 180.0
offset_bottom = 180.0
grow_horizontal = 2
grow_vertical = 2
size_flags_horizontal = 0

[node name="Grain" type="TextureRect" parent="FatCat/Camera2D/CanvasLayer"]
self_modulate = Color(1, 1, 1, 0.0313726)
offset_right = 512.0
offset_bottom = 512.0
texture = SubResource("NoiseTexture2D_qk3ee")
stretch_mode = 2

[node name="Baby" parent="." node_paths=PackedStringArray("player") instance=ExtResource("3_n3qp0")]
position = Vector2(334, 300)
player = NodePath("../FatCat")

[node name="Laser" parent="." instance=ExtResource("6_usot1")]

[node name="LaserPosition" type="Marker2D" parent="Laser"]
position = Vector2(174, 571)

[node name="CanvasLayer" type="CanvasLayer" parent="."]
process_mode = 3

[node name="PauseMenu" parent="CanvasLayer" instance=ExtResource("9_ejdt2")]
unique_name_in_owner = true

[node name="GameOver" parent="CanvasLayer" instance=ExtResource("11_64s1c")]

[node name="WinMenu" parent="CanvasLayer" instance=ExtResource("12_c4k5a")]
